# Домашнее задание к занятию «Введение в Terraform» - `Скрыпников Илья`

### Задание 1
- Перейдите в каталог src. Скачайте все необходимые зависимости, использованные в проекте.
- Изучите файл .gitignore. В каком terraform-файле, согласно этому .gitignore, допустимо сохранить личную, секретную информацию?(логины,пароли,ключи,токены итд)
- Выполните код проекта. Найдите в state-файле секретное содержимое созданного ресурса random_password, пришлите в качестве ответа конкретный ключ и его значение.
- Раскомментируйте блок кода, примерно расположенный на строчках 29–42 файла main.tf. Выполните команду terraform validate. Объясните, в чём заключаются намеренно допущенные ошибки. Исправьте их.
- Выполните код. В качестве ответа приложите: исправленный фрагмент кода и вывод команды docker ps.
- Замените имя docker-контейнера в блоке кода на hello_world. Не перепутайте имя контейнера и имя образа. Мы всё ещё продолжаем использовать name = "nginx:latest". Выполните команду terraform apply -auto-approve. - - Объясните своими словами, в чём может быть опасность применения ключа -auto-approve. Догадайтесь или нагуглите зачем может пригодиться данный ключ? В качестве ответа дополнительно приложите вывод команды docker ps.
- Уничтожьте созданные ресурсы с помощью terraform. Убедитесь, что все ресурсы удалены. Приложите содержимое файла terraform.tfstate.
- Объясните, почему при этом не был удалён docker-образ nginx:latest. Ответ ОБЯЗАТЕЛЬНО НАЙДИТЕ В ПРЕДОСТАВЛЕННОМ КОДЕ, а затем ОБЯЗАТЕЛЬНО ПОДКРЕПИТЕ строчкой из документации terraform провайдера docker. (ищите в классификаторе resource docker_image )

### Ответ:
# own secret vars store.
personal.auto.tfvars

![image](https://github.com/user-attachments/assets/1e1b6143-1073-427e-adcc-e60d6ae1c103)

в 24 строке недостоет имини "docker_image" - добавил "nginx"
в 29 строке синтаксическая ошибка в имини - исправил на "nginx"
в 31 строке ошибка о том, что в "random_string_FAKE" у нас не обявлен в корневом модуле "random_password". Соответственно убираем FAKE и меням resulT на result

![image](https://github.com/user-attachments/assets/98e49b7f-e3e2-4bd4-a18b-6547897c6b13)

![image](https://github.com/user-attachments/assets/a442c1c7-bb21-4d67-855e-ad93787ef3a1)

Ключ -auto-approve в команде terraform apply используется для автоматического утверждения изменений без запроса подтверждения у пользователя перед их применением. Этот параметр особенно полезен в сценариях автоматической оркестрации или при частом применении изменений, когда пользователь уверен в безопасности и корректности изменений.
Однако стоит помнить, что использование этого ключа может быть опасным, если изменения не были тщательно проверены, поскольку они могут привести к непреднамеренному изменению инфраструктуры. Поэтому рекомендуется использовать этот ключ только тогда, когда вы уверены в безопасности изменений или в сценарии, где требуются полностью автоматические процессы.
```
{
  "version": 4,
  "terraform_version": "1.8.4",
  "serial": 11,
  "lineage": "ab3d6ba5-8d6f-8908-9d05-fa998c49b6ed",
  "outputs": {},
  "resources": [],
  "check_results": null
}
```

keep_locally = true
Если значение стоит true Docker image не будет удален при операции уничтножения. Если значение false, то образ будет удален из локального хранилища docker при операции destroy.

